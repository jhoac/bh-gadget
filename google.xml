<Module>
<ModulePrefs title="getEvents Test with params" height="100" author="Google" author_email="calendar-gadget-questions@google.com">
<Optional feature="google.calendar-0.5.read"/>
</ModulePrefs>
<Content type="html">
<![CDATA[
><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <body> <script> function run() { var startDate = {year: 2009, month: 9, date : 7, hour: 0, minute: 0, second: 0}; var endDate = {year: 2009, month: 9, date : 8, hour: 0, minute: 0, second: 0}; var calendars = ['en.usa#holiday@group.v.calendar.google.com', 'mlb_10_%4eew+%59ork+%59ankees#sports@group.v.calendar.google.com']; var optionalParams = { 'requestedFields': ['owner', 'status', 'attendeeCount', 'details'] }; google.calendar.read.getEvents(eventCallback, calendars, startDate, endDate, optionalParams); } function eventCallback(response) { var out = ''; for (var i = 0; i < response.length; ++i) { if ('error' in response[i]) { out += 'Can\'t load calendar for ' + response[i].email + '\n'; continue; } out += 'CALENDAR: ' + response[i].email + '\n'; if ('name' in response[i]) { out += 'NAME: ' + response[i].name + '\n'; } out += 'ACCESS: ' + response[i].accessLevel + '\n'; var events = response[i]['events']; for(var j = 0; j < events.length; ++j) { var e = events[j]; if ('title' in e) { out += 'Title = ' + e.title + '\n'; } if ('location' in e) { out += 'Location = ' + e.location + '\n'; } if ('status' in e) { out += 'Status = ' + e.status + '\n'; } if ('details' in e) { out += 'Details = ' + e.details + '\n'; } if ('attendeeCount' in e) { out += 'AttendeeCount = ' + e.attendeeCount + '\n'; } if ('owner' in e) { out += 'Owner = ' + e.owner.email + '\n'; } out += 'Status = ' + e.status + '\n'; out += '---------\n'; } } alert(out); } </script> <button onclick="run()">Get US holidays and<br>NY Yankees</button> </body> </html>
]]>
</Content>
</Module>